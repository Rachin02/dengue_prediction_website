<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dengue Fever Prediction</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/style.css">
  
</head>
<body>
    <div class="card">
        <div class="card-header">
            <h1>Dengue Fever Prediction</h1>
            <p>An AI-powered tool</p>
            <p>Fill in the patient information to get a model prediction.</p>
        </div>

        <form id="dengue-form" method="post" action="/predict">
            <!-- Demographic & clinical inputs -->
            <div class="section-title">Patient Information</div>
            <div class="grid">
                <div class="form-group">
                    <label for="age">Age (years)</label>
                    <input type="number" id="age" name="age" min="0" max="120" required value="{{ form_values.get('age','') if form_values is defined else '' }}">
                </div>

                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select gender</option>
                        <option value="male" {% if form_values is defined and form_values.get('gender') == 'male' %}selected{% endif %}>Male</option>
                        <option value="female" {% if form_values is defined and form_values.get('gender') == 'female' %}selected{% endif %}>Female</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="duration">Duration of Fever (days)</label>
                    <input type="number" id="duration" name="duration" min="0" max="30" required value="{{ form_values.get('duration','') if form_values is defined else '' }}">
                </div>
            </div>

            <!-- Lab values -->
            <div class="section-title">Laboratory Values</div>
            <div class="grid">
                <div class="form-group">
                    <label for="platelet">Platelet Count (per µL)</label>
                    <input type="number" id="platelet" name="platelet" min="0" step="1" required value="{{ form_values.get('platelet','') if form_values is defined else '' }}">
                </div>

                <div class="form-group">
                    <label for="wbc">WBC Count (per µL)</label>
                    <input type="number" id="wbc" name="wbc" min="0" step="1" required value="{{ form_values.get('wbc','') if form_values is defined else '' }}">
                </div>
            </div>

            <!-- Symptoms -->
            <div class="section-title">Symptoms (Yes / No)</div>
            <div class="grid">
                <div class="form-group">
                    <label for="fever">Fever</label>
                    <select id="fever" name="fever" required>
                        <option value="">Select</option>
                        <option value="yes" {% if form_values is defined and form_values.get('fever') == 'yes' %}selected{% endif %}>YES</option>
                        <option value="no" {% if form_values is defined and form_values.get('fever') == 'no' %}selected{% endif %}>NO</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="rash">Rash</label>
                    <select id="rash" name="rash" required>
                        <option value="">Select</option>
                        <option value="yes" {% if form_values is defined and form_values.get('rash') == 'yes' %}selected{% endif %}>YES</option>
                        <option value="no" {% if form_values is defined and form_values.get('rash') == 'no' %}selected{% endif %}>NO</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="vomiting">Vomiting</label>
                    <select id="vomiting" name="vomiting" required>
                        <option value="">Select</option>
                        <option value="yes" {% if form_values is defined and form_values.get('vomiting') == 'yes' %}selected{% endif %}>YES</option>
                        <option value="no" {% if form_values is defined and form_values.get('vomiting') == 'no' %}selected{% endif %}>NO</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="headache">Headache</label>
                    <select id="headache" name="headache" required>
                        <option value="">Select</option>
                        <option value="yes" {% if form_values is defined and form_values.get('headache') == 'yes' %}selected{% endif %}>YES</option>
                        <option value="no" {% if form_values is defined and form_values.get('headache') == 'no' %}selected{% endif %}>NO</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="muscle_pain">Muscle Pain</label>
                    <select id="muscle_pain" name="muscle_pain" required>
                        <option value="">Select</option>
                        <option value="yes" {% if form_values is defined and form_values.get('muscle_pain') == 'yes' %}selected{% endif %}>YES</option>
                        <option value="no" {% if form_values is defined and form_values.get('muscle_pain') == 'no' %}selected{% endif %}>NO</option>
                    </select>
                </div>
            </div>

            <div class="actions">
                <button type="submit">Predict Dengue</button>
            </div>

            {# Summary box: show submitted inputs and the prediction #}
            {% if form_values is defined and form_values %}
            <div class="summary">
                <h3>Input Summary</h3>
                <ul>
                    <li><strong>Age:</strong> {{ form_values.get('age','-') }}</li>
                    <li><strong>Gender:</strong> {{ form_values.get('gender','-') }}</li>
                    <li><strong>Duration of Fever (days):</strong> {{ form_values.get('duration','-') }}</li>
                    <li><strong>Platelet Count:</strong> {{ form_values.get('platelet','-') }}</li>
                    <li><strong>WBC:</strong> {{ form_values.get('wbc','-') }}</li>
                    <li><strong>Fever:</strong> {{ form_values.get('fever','-') }}</li>
                    <li><strong>Rash:</strong> {{ form_values.get('rash','-') }}</li>
                    <li><strong>Vomiting:</strong> {{ form_values.get('vomiting','-') }}</li>
                    <li><strong>Headache:</strong> {{ form_values.get('headache','-') }}</li>
                    <li><strong>Muscle Pain:</strong> {{ form_values.get('muscle_pain','-') }}</li>
                </ul>
                {% if prediction_text %}
                    <div class="prediction-large">Prediction: <span>{{ prediction_text }}</span></div>
                {% endif %}
            </div>
            {% else %}
            <div id="result" class="result">
                Prediction result will appear here.
            </div>
            {% endif %}
